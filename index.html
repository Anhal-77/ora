<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£ÙˆØ±Ø§ | Ora</title>
    <style>
        :root { 
            /* Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ù…Ø³ØªÙˆØ­Ø§Ø© Ù…Ù† Ø´Ø¹Ø§Ø±Ùƒ */
            --ora-blue: #70b5d3; 
            --ora-dark: #4a7c92;
            --ora-light: #e3f2f8;
            --bg: #f4f7f9; 
            --bot-msg: #ffffff; 
            --user-msg: #70b5d3; 
        }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: var(--bg); 
            margin: 0; 
            display: flex; 
            flex-direction: column; 
            height: 100vh; 
        }
        header { 
            background: white; 
            color: var(--ora-dark); 
            padding: 8px 20px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            border-bottom: 2px solid var(--ora-blue);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .logo-area { display: flex; align-items: center; gap: 12px; }
        .logo-img { height: 45px; width: auto; border-radius: 4px; }
        .brand-name { font-size: 1.2rem; font-weight: bold; color: var(--ora-dark); }
        
        .info-btn { 
            background: var(--ora-light); 
            border: 1px solid var(--ora-blue); 
            color: var(--ora-dark); 
            border-radius: 50%; 
            width: 32px; height: 32px; 
            cursor: pointer;
            font-weight: bold;
            display: flex; align-items: center; justify-content: center;
        }

        #chat-container { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .message { max-width: 80%; padding: 14px 18px; border-radius: 20px; font-size: 14.5px; line-height: 1.6; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        .bot { background: var(--bot-msg); align-self: flex-start; border: 1px solid #deeef5; color: #333; border-bottom-right-radius: 4px; }
        .user { background: var(--user-msg); align-self: flex-end; color: white; border-bottom-left-radius: 4px; }
        
        .input-area { background: white; padding: 15px 20px; display: flex; align-items: center; gap: 12px; border-top: 1px solid #eee; }
        input[type="text"] { flex: 1; padding: 12px 18px; border: 1px solid #e0e8ed; border-radius: 25px; outline: none; font-size: 14px; background: #fafbfc; }
        .icon-btn { background: none; border: none; font-size: 22px; cursor: pointer; color: var(--ora-blue); transition: 0.2s; }
        .icon-btn:hover { transform: scale(1.1); color: var(--ora-dark); }
    </style>
</head>
<body>

<header>
    <div class="logo-area">
        <img src="https://i.ibb.co/MxnRGnjR/Ora-Logo.png" alt="Ora Logo" class="logo-img">
        <span class="brand-name">Ø£ÙˆØ±Ø§ (Ora)</span>
    </div>
    <button class="info-btn" onclick="showAbout()" title="Ø¹Ù† Ø£ÙˆØ±Ø§">â„¹</button>
</header>

<div id="chat-container">
    <div class="message bot">
        Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒØŒ Ø£Ù†Ø§ <b>Ø£ÙˆØ±Ø§ (Ora)</b> ğŸ¦· Ø·Ø¨ÙŠØ¨ Ø§Ù„Ø£Ø³Ù†Ø§Ù† Ø§Ù„Ø°ÙƒÙŠ.<br><br>
        ÙŠØ³Ø¹Ø¯Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ ØªØ­Ù„ÙŠÙ„ ØµÙˆØ± Ø§Ù„Ø£Ø´Ø¹Ø© ÙˆØªÙ‚Ø¯ÙŠÙ… Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…ØµØ§Ø¯Ø± Ø·Ø¨ÙŠØ© Ù…ØªØ®ØµØµØ©.<br><br>
        ğŸ“¸ ÙØ¶Ù„Ø§Ù‹ØŒ Ù‚Ù… Ø¨Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ø£Ø´Ø¹Ø© ÙˆØ³Ø£Ø¨Ø¯Ø£ Ø¨Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙÙˆØ±Ø§Ù‹.
    </div>
</div>

<div class="input-area">
    <input type="file" id="fileInput" hidden accept="image/*">
    <button class="icon-btn" onclick="document.getElementById('fileInput').click()" title="Ø§Ø±ÙØ¹ ØµÙˆØ±Ø©">ğŸ“·</button>
    <input type="text" id="userInput" placeholder="Ø§Ø³Ø£Ù„ Ø£ÙˆØ±Ø§ Ø¹Ù† ØµØ­Ø© Ø£Ø³Ù†Ø§Ù†Ùƒ...">
    <button class="icon-btn" id="sendBtn" title="Ø¥Ø±Ø³Ø§Ù„">ğŸš€</button>
</div>

<script>
    function showAbout() {
        const chatContainer = document.getElementById('chat-container');
        const aboutMsg = document.createElement('div');
        aboutMsg.className = 'message bot';
        aboutMsg.style.borderRight = "4px solid var(--ora-blue)";
        aboutMsg.style.backgroundColor = "#f0f8fb";
        
        aboutMsg.innerHTML = "<b>âœ¨ Ø¹Ù† Ø£ÙˆØ±Ø§ (Ora):</b><br><br>" +
                            "<b>ØªØ·ÙˆÙŠØ± :</b> Ø£Ù†Ù‡Ø§Ù„ Ù…Ø­Ù…Ø¯ <br><br>" +
                            "<b>Ø±Ø¤ÙŠØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:</b><br>" +
                            "Ù†Ù…ÙˆØ°Ø¬ Ø±Ø§Ø¦Ø¯ ÙŠÙˆØ§ÙƒØ¨ <b>Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„ØµØ­ÙŠ Ø§Ù„Ø±Ù‚Ù…ÙŠ</b>ØŒ Ø¹Ø¨Ø± ØªØ³Ø®ÙŠØ± ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„ØªØ¹Ø²ÙŠØ² ÙƒÙØ§Ø¡Ø© Ø§Ù„ØªØ´Ø®ÙŠØµ Ø§Ù„Ø£ÙˆÙ„ÙŠ.<br><br>" +
                            "<b>Ø£Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:</b><br>" +
                            "â€¢ <b>Ù…ÙˆØ§ÙƒØ¨Ø© Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠ:</b> Ø¯Ø¹Ù… Ù…Ø¨Ø§Ø¯Ø±Ø§Øª Ø§Ù„ØµØ­Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø¨Ø­Ù„ÙˆÙ„ ÙÙˆØ±ÙŠØ©.<br>" +
                            "â€¢ <b>ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªÙÙŠØ¯:</b> ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† ÙÙ‡Ù… Ø­Ø§Ù„ØªÙ‡ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø¹Ø§ÙŠÙŠØ± ADA Ùˆ WHO.<br>" +
                            "â€¢ <b>Ø§Ù„Ø¯Ù‚Ø© ÙˆØ§Ù„Ø³Ø±Ø¹Ø©:</b> ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø´Ø¹Ø© ÙˆØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØªØ³ÙˆØ³ ÙˆØ­Ø§Ù„Ø© Ø§Ù„Ø¹ØµØ¨ ÙÙŠ Ø«ÙˆØ§Ù†Ù.<br>" +
                            "â€¢ <b>Ø§Ù„ØªÙˆØ¹ÙŠØ© Ø§Ù„ÙˆÙ‚Ø§Ø¦ÙŠØ©:</b> ØªÙ‚Ø¯ÙŠÙ… Ø¥Ø±Ø´Ø§Ø¯Ø§Øª ØªØ³Ù‡Ù… ÙÙŠ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ ØµØ­Ø© Ø§Ù„ÙÙ….";
        
        chatContainer.appendChild(aboutMsg);
        chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    

        // 1. Ø¶Ø¹ÙŠ Ù…ÙØªØ§Ø­ Ø§Ù„Ù€ API Ø§Ù„Ø®Ø§Øµ Ø¨ÙƒÙ Ù‡Ù†Ø§
        const API_KEY = "AIzaSyAFQbjbGp1uT0xilJyE5ZXI5SbwQthunko"";

        // Ø¯Ø§Ù„Ø© ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©
        function fileToGenerativePart(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onloadend = () => resolve({
                    inlineData: { data: reader.result.split(',')[1], mimeType: file.type }
                });
                reader.onerror = reject;
                reader.readAsDataURL(file);
            });
        }
<script>
    // 1. Ø¶Ø¹ÙŠ Ù…ÙØªØ§Ø­ Ø§Ù„Ù€ API Ø§Ù„Ø°ÙŠ Ø­ØµÙ„ØªÙ Ø¹Ù„ÙŠÙ‡ Ù‡Ù†Ø§
    const API_KEY = "AIzaSyAFQbjbGp1uT0xilJyE5ZXI5SbwQthunko"; 

    // Ø¯Ø§Ù„Ø© ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©
    function fileToGenerativePart(file) {
        return new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.onloadend = () => resolve({
                inlineData: { data: reader.result.split(',')[1], mimeType: file.type }
            });
            reader.onerror = reject;
            reader.readAsDataURL(file);
        });
    }

    // Ø¯Ø§Ù„Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„
    async function sendMessage() {
        const input = document.getElementById('userInput');
        const fileInput = document.getElementById('fileInput');
        const message = input.value.trim();
        const file = fileInput.files[0];

        if (message === "" && !file) return;

        if (message) addMessageToChat(message, 'user');
        if (file) addMessageToChat("ğŸ“¸ Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø¨ÙˆØ§Ø³Ø·Ø© Ø£ÙˆØ±Ø§...", 'user');

        input.value = "";
        
        try {
            let prompt = file ? "Ø£Ù†Øª Ø£ÙˆØ±Ø§ØŒ Ø­Ù„Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„Ø·Ø¨ÙŠØ© Ø¨Ø¯Ù‚Ø©." : message;
            const body = {
                contents: [{
                    parts: [{ text: "Ø£Ù†Øª Ø£ÙˆØ±Ø§ (Ora) Ù…Ø³Ø§Ø¹Ø¯ Ø·Ø¨ÙŠ Ø°ÙƒÙŠ Ù„Ù„Ø£Ø³Ù†Ø§Ù†: " + prompt }]
                }]
            };

            if (file) {
                const imagePart = await fileToGenerativePart(file);
                body.contents[0].parts.push(imagePart);
            }

            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(body)
            });

            const data = await response.json();
            const botReply = data.candidates[0].content.parts[0].text;
            addMessageToChat(botReply, 'bot');
            fileInput.value = ""; 

        } catch (error) {
            addMessageToChat("Ø¹Ø°Ø±Ø§Ù‹ØŒ ØªØ£ÙƒØ¯ÙŠ Ù…Ù† Ø§Ù„Ù…ÙØªØ§Ø­ ÙˆØ§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.", 'bot');
        }
    }

    function addMessageToChat(text, sender) {
        const chatContainer = document.getElementById('chat-container');
        const msgDiv = document.createElement('div');
        msgDiv.className = `message ${sender}`;
        msgDiv.innerHTML = text.replace(/\*\*(.*?)\*\*/g, '<b>$1</b>').replace(/\n/g, '<br>');
        chatContainer.appendChild(msgDiv);
        chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    document.getElementById('sendBtn').onclick = sendMessage;
    document.getElementById('userInput').onkeypress = (e) => { if(e.key === 'Enter') sendMessage(); };
</script>
